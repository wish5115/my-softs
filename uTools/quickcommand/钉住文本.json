{
    "program": "quickcomposer",
    "features": {
        "icon": "data:image/png;base64,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",
        "explain": "钉住文本",
        "platform": [
            "win32",
            "linux",
            "darwin"
        ],
        "mainPush": false,
        "cmds": [
            "钉住文本",
            "pinText",
            "钉住文本配置",
            {
                "type": "over",
                "label": "钉住文本"
            }
        ],
        "mainHide": false,
        "code": "professional_8ee2fabd"
    },
    "output": "html",
    "tags": [
        "工具"
    ],
    "flows": [
        {
            "id": "main",
            "name": "main",
            "label": "主流程",
            "commands": [
                {
                    "value": "quickcommand.userData.get",
                    "id": "d73dd296-0b5f-48ef-9708-1d54c899438d",
                    "subCommand": "quickcommand.userData.get",
                    "argvs": [
                        "webdav"
                    ],
                    "code": "quickcommand.userData.get(\"webdav\")",
                    "isCollapsed": true,
                    "outputVariable": {
                        "name": "webdavConfig"
                    }
                },
                {
                    "value": "JSON.stringify",
                    "id": "e1d62dad-3eea-471d-a1da-3852ce9bba5a",
                    "subCommand": "JSON.stringify",
                    "argvs": [
                        {
                            "value": "webdavConfig",
                            "isString": false,
                            "__varInputVal__": true
                        },
                        {
                            "value": "null",
                            "isString": false,
                            "__varInputVal__": true
                        },
                        2
                    ],
                    "code": "JSON.stringify(webdavConfig,null,2)",
                    "outputVariable": {
                        "name": "webdavConfig"
                    },
                    "isCollapsed": true
                },
                {
                    "value": "condition",
                    "isControlFlow": true,
                    "commandChain": [
                        "if",
                        "end"
                    ],
                    "id": "e7ede204-b41d-450c-a61c-129049a30a51",
                    "commandType": "if",
                    "chainId": "2e76a9d1-96cd-42f7-bd34-1e48017f3755",
                    "argvs": {
                        "condition": "quickcommand.enterData.payload === '钉住文本配置'"
                    },
                    "code": "if (quickcommand.enterData.payload === '钉住文本配置') {",
                    "isCollapsed": false
                },
                {
                    "value": "createCodeSnippet",
                    "description": "单纯将代码片段赋值到变量中，不会执行",
                    "id": "54dcbfe1-bcef-4677-8e9c-e2d4a3d101fd",
                    "code": "quickcomposer.coding.base64Decode(\"PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9InpoIj4KCjxoZWFkPgogIDxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wIiAvPgogIDx0aXRsZT5XZWJEQVYg6YWN572uPC90aXRsZT4KICA8c3R5bGU+CiAgICBib2R5IHsKICAgICAgZm9udC1mYW1pbHk6ICdBcmlhbCcsIHNhbnMtc2VyaWY7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7CiAgICAgIG1hcmdpbjogMDsKICAgICAgcGFkZGluZzowOwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgbWluLWhlaWdodDogMTAwdmg7CiAgICB9CgogICAgLmNvbnRhaW5lciB7CiAgICAgIHdpZHRoOiA0MDBweDsKICAgICAgcGFkZGluZzogMjBweDsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICAgIGJvcmRlcjogMnB4IHNvbGlkICMwMDA7CiAgICB9CgogICAgaDIgewogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgIG1hcmdpbi10b3A6IDA7CiAgICAgIGNvbG9yOiAjMzMzOwogICAgfQoKICAgIC5mb3JtLWdyb3VwIHsKICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgIH0KCiAgICBsYWJlbCB7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICBtYXJnaW4tYm90dG9tOiA1cHg7CiAgICAgIGZvbnQtc2l6ZTogMThweDsKICAgICAgY29sb3I6ICMzMzM7CiAgICB9CgogICAgaW5wdXRbdHlwZT0idGV4dCJdLAogICAgaW5wdXRbdHlwZT0icGFzc3dvcmQiXSB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBwYWRkaW5nOiAxMHB4OwogICAgICBib3JkZXI6IDJweCBzb2xpZCAjMDAwOwogICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgIG91dGxpbmU6IG5vbmU7CiAgICB9CgogICAgaW5wdXRbdHlwZT0idGV4dCJdOmZvY3VzLAogICAgaW5wdXRbdHlwZT0icGFzc3dvcmQiXTpmb2N1cyB7CiAgICAgIGJvcmRlci1jb2xvcjogIzAwN2JmZjsKICAgIH0KCiAgICAuYnRuLXNhdmUgewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTBkOGYwOwogICAgICBjb2xvcjogIzAwMDsKICAgICAgYm9yZGVyOiAycHggc29saWQgIzAwMDsKICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgcGFkZGluZzogMTBweCAyMHB4OwogICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgd2lkdGg6IDEwMHB4OwogICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICB9CgogICAgLmJ0bi1zYXZlOmhvdmVyIHsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzdhYjhlMDsKICAgIH0KICA8L3N0eWxlPgo8L2hlYWQ+Cgo8Ym9keT4KICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgogICAgPGgyPuivt+i+k+WFpXdlYmRhdumFjee9rjwvaDI+CiAgICA8Zm9ybSBpZD0id2ViZGF2Rm9ybSI+CiAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbCBmb3I9InVybCI+VVJMPC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InVybCIgbmFtZT0idXJsIiBwbGFjZWhvbGRlcj0i6K+36L6T5YWlVVJMIiByZXF1aXJlZCAvPgogICAgICA8L2Rpdj4KCiAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbCBmb3I9InVzZXJuYW1lIj7nlKjmiLc8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0idXNlcm5hbWUiIG5hbWU9InVzZXJuYW1lIiBwbGFjZWhvbGRlcj0i6K+36L6T5YWl55So5oi35ZCNIiByZXF1aXJlZCAvPgogICAgICA8L2Rpdj4KCiAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbCBmb3I9InBhc3N3b3JkIj7lr4bnoIE8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9InBhc3N3b3JkIiBuYW1lPSJwYXNzd29yZCIgcGxhY2Vob2xkZXI9Iuivt+i+k+WFpeWvhueggSIgcmVxdWlyZWQgLz4KICAgICAgPC9kaXY+CgogICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0bi1zYXZlIj7kv53lrZg8L2J1dHRvbj4KICAgIDwvZm9ybT4KICA8L2Rpdj4KCiAgPHNjcmlwdD4KICAgIGxldCB3ZWJkYXYgPSBfX193ZWJkYXZDb25maWdfX187CiAgICBjb25zdCB1cmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXJsJyk7CiAgICBjb25zdCB1c2VybmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VybmFtZScpOwogICAgY29uc3QgcGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQnKTsKICAgIGlmKHdlYmRhdiAmJiB3ZWJkYXYudXJsKSB1cmwudmFsdWUgPSB3ZWJkYXYudXJsOwogICAgaWYod2ViZGF2ICYmd2ViZGF2LnVzZXJuYW1lKSB1c2VybmFtZS52YWx1ZSA9IHdlYmRhdi51c2VybmFtZTsKICAgIGlmKHdlYmRhdiAmJndlYmRhdi5wYXNzd29yZCkgcGFzc3dvcmQudmFsdWUgPSB3ZWJkYXYucGFzc3dvcmQ7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2ViZGF2Rm9ybScpLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIGZ1bmN0aW9uKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBjb25zdCBjb25maWcgPSB7CiAgICAgICAgdXJsOiB1cmwudmFsdWUudHJpbSgpLAogICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZS52YWx1ZS50cmltKCksCiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLnZhbHVlLAogICAgICB9CiAgICAgIGF3YWl0IHF1aWNrY29tbWFuZC51c2VyRGF0YS5wdXQoY29uZmlnLCAid2ViZGF2IiwgZmFsc2UpOwogICAgICBjb25zb2xlLmxvZygn6YWN572u5bey5L+d5a2Y77yBJyk7CiAgICB9KTsKICA8L3NjcmlwdD4KPC9ib2R5PgoKPC9odG1sPg==\").replace('___webdavConfig___', webdavConfig)",
                    "argvs": {
                        "code": "<!DOCTYPE html>\n<html lang=\"zh\">\n\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <title>WebDAV 配置</title>\n  <style>\n    body {\n      font-family: 'Arial', sans-serif;\n      background-color: #f9f9f9;\n      margin: 0;\n      padding:0;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      min-height: 100vh;\n    }\n\n    .container {\n      width: 400px;\n      padding: 20px;\n      background-color: white;\n      border-radius: 10px;\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n      border: 2px solid #000;\n    }\n\n    h2 {\n      text-align: center;\n      margin-top: 0;\n      color: #333;\n    }\n\n    .form-group {\n      margin-bottom: 15px;\n    }\n\n    label {\n      display: block;\n      margin-bottom: 5px;\n      font-size: 18px;\n      color: #333;\n    }\n\n    input[type=\"text\"],\n    input[type=\"password\"] {\n      width: 100%;\n      padding: 10px;\n      border: 2px solid #000;\n      border-radius: 10px;\n      font-size: 16px;\n      box-sizing: border-box;\n      outline: none;\n    }\n\n    input[type=\"text\"]:focus,\n    input[type=\"password\"]:focus {\n      border-color: #007bff;\n    }\n\n    .btn-save {\n      background-color: #a0d8f0;\n      color: #000;\n      border: 2px solid #000;\n      border-radius: 10px;\n      padding: 10px 20px;\n      font-size: 16px;\n      cursor: pointer;\n      width: 100px;\n      margin: 0 auto;\n      display: block;\n    }\n\n    .btn-save:hover {\n      background-color: #7ab8e0;\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"container\">\n    <h2>请输入webdav配置</h2>\n    <form id=\"webdavForm\">\n      <div class=\"form-group\">\n        <label for=\"url\">URL</label>\n        <input type=\"text\" id=\"url\" name=\"url\" placeholder=\"请输入URL\" required />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"username\">用户</label>\n        <input type=\"text\" id=\"username\" name=\"username\" placeholder=\"请输入用户名\" required />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"password\">密码</label>\n        <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"请输入密码\" required />\n      </div>\n\n      <button type=\"submit\" class=\"btn-save\">保存</button>\n    </form>\n  </div>\n\n  <script>\n    let webdav = ___webdavConfig___;\n    const url = document.getElementById('url');\n    const username = document.getElementById('username');\n    const password = document.getElementById('password');\n    if(webdav && webdav.url) url.value = webdav.url;\n    if(webdav &&webdav.username) username.value = webdav.username;\n    if(webdav &&webdav.password) password.value = webdav.password;\n    document.getElementById('webdavForm').addEventListener('submit', async function(e) {\n      e.preventDefault();\n      const config = {\n        url: url.value.trim(),\n        username: username.value.trim(),\n        password: password.value,\n      }\n      await quickcommand.userData.put(config, \"webdav\", false);\n      console.log('配置已保存！');\n    });\n  </script>\n</body>\n\n</html>",
                        "language": "html",
                        "args": [],
                        "scriptCode": null,
                        "outputCode": null,
                        "runInTerminal": null
                    },
                    "outputVariable": {
                        "name": "configSnippet"
                    },
                    "isCollapsed": true,
                    "userComments": "webdav配置表单"
                },
                {
                    "value": "console.log",
                    "neverHasOutput": true,
                    "id": "c2dfeeb5-ae1a-4468-a04b-0d839f93cdca",
                    "subCommand": "console.log",
                    "argvs": [
                        {
                            "value": "configSnippet",
                            "isString": false,
                            "__varInputVal__": true
                        }
                    ],
                    "code": "console.log(configSnippet)",
                    "isCollapsed": true
                },
                {
                    "value": "return",
                    "neverHasOutput": true,
                    "id": "810aba1c-84a7-49b1-b738-0a1c579b9806",
                    "argvs": {
                        "returnValue": {
                            "value": "",
                            "isString": false,
                            "__varInputVal__": true
                        }
                    },
                    "code": "return ",
                    "isCollapsed": true
                },
                {
                    "value": "condition",
                    "isControlFlow": true,
                    "commandChain": [
                        "if",
                        "end"
                    ],
                    "id": "44596c88-2a8d-481e-8529-a376dda27896",
                    "commandType": "end",
                    "chainId": "2e76a9d1-96cd-42f7-bd34-1e48017f3755",
                    "argvs": {},
                    "code": "};"
                },
                {
                    "value": "createCodeSnippet",
                    "description": "单纯将代码片段赋值到变量中，不会执行",
                    "id": "6bc7266a-6447-4402-82f4-112fa1d352c5",
                    "code": "quickcomposer.coding.base64Decode(\"PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+CiAgPHRpdGxlPumSieS9j+aWh+acrDwvdGl0bGU+CiAgPHN0eWxlPgogICAgYm9keSB7CiAgICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDE2cHgpOwogICAgICBib3JkZXItdG9wOiAwLjVweCBzb2xpZCBncmVlbjsKICAgICAgbWFyZ2luOiAwOwogICAgICBwYWRkaW5nOiA4cHg7CiAgICB9CiAgPC9zdHlsZT4KICA8c2NyaXB0IHR5cGU9Im1vZHVsZSI+CiAgICBpbXBvcnQge2NyZWF0ZUNsaWVudH0gZnJvbSAnaHR0cHM6Ly9qc2Qub25taWNyb3NvZnQuY24vbnBtL3dlYmRhdkA1LjguMC8rZXNtJzsKICAgIGxldCB3ZWJkYXYgPSBfX193ZWJkYXZDb25maWdfX187CiAgICB3aW5kb3cud2ViZGF2Q2xpZW50ID0gbnVsbDsKICAgIGlmKHdlYmRhdikgewogICAgICB3aW5kb3cud2ViZGF2Q2xpZW50ID0gY3JlYXRlQ2xpZW50KHdlYmRhdi51cmwsIHsKICAgICAgICB1c2VybmFtZTogd2ViZGF2LnVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkOiB3ZWJkYXYucGFzc3dvcmQKICAgICAgfSk7CiAgICB9CiAgPC9zY3JpcHQ+CiAgPHNjcmlwdD4KICAgIGxldCBwYXlsb2FkID0gIl9fX3F1aWNrY29tbWFuZC5lbnRlckRhdGEucGF5bG9hZF9fXyI7CiAgICBsZXQgaXNTeW5jID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lzU3luYycsICdmYWxzZScpID09PSAndHJ1ZSc7CiAgICAvLyDliqDovb3miafooYwKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBhc3luYyAoKSA9PiB7CiAgICAgIGlmKGlzU3luYyAmJiAhd2luZG93LndlYmRhdkNsaWVudCkgewogICAgICAgIGlzU3luYyA9IGZhbHNlOwogICAgICAgIGFsZXJ0KCfml6Dms5XlkIzmraXmlbDmja7vvIzor7flhYjphY3nva7lnKh1VG9vbHPkuK3ovpPlhaXigJzpkonkvY/mlofmnKzphY3nva7igJ3ljrvphY3nva53ZWJkYXYnKTsKICAgICAgfQogICAgICBjb25zdCBlZGl0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZWRpdG9yIik7CiAgICAgIGNvbnN0IGh0bWwgPSBpc1N5bmMgPyBhd2FpdCBnZXRXZWJEYXZGaWxlKCkgOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicGluVGV4dCIsICIiKTsKICAgICAgZWRpdG9yLmlubmVySFRNTCA9IGh0bWw7CiAgICAgIGNvbnN0IGhhc1BheWxvYWQgPSAhKHBheWxvYWQgPT09ICLpkonkvY/mlofmnKwiIHx8IHBheWxvYWQgPT09ICJwaW5UZXh0IikgJiYgcGF5bG9hZDsKICAgICAgaWYoaGFzUGF5bG9hZCkgewogICAgICAgIGVkaXRvci5pbm5lckhUTUwgPSBlZGl0b3IudGV4dENvbnRlbnQgPyBwYXlsb2FkICsgIjxociAvPiIgKyBodG1sIDogcGF5bG9hZDsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgicGluVGV4dCIsIGVkaXRvci5pbm5lckhUTUwpOwogICAgICAgIGlmKGlzU3luYykgc3luY0ZpbGUoKTsKICAgICAgfQogICAgICBzZXRUaW1lb3V0KCgpPT4gZWRpdG9yLmZvY3VzKCksIDEwMCk7CiAgICAgIC8vIOi+k+WFpeS6i+S7tgogICAgICBlZGl0b3IuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInBpblRleHQiLCBlZGl0b3IuaW5uZXJIVE1MKTsKICAgICAgICBpZihpc1N5bmMpIHN5bmNGaWxlKCk7CiAgICAgIH0pOwogICAgICAvLyDnm5HlkKzmlbDmja7lj5jljJYKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCBmdW5jdGlvbihlKSB7CiAgICAgICAgaWYgKGUua2V5ID09PSAncGluVGV4dCcpIHsKICAgICAgICAgIGVkaXRvci5pbm5lckhUTUwgPSBlLm5ld1ZhbHVlOwogICAgICAgICAgaWYoaXNTeW5jKSBzeW5jRmlsZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICAgIC8vLy8vIGFsdCtzIOS/neWtmOeql+WPo+S9jee9riAvLy8vCiAgICBjb25zdCByZXN0b3JlV2luZG93UG9zaXRpb25BbmRTaXplID0gKCkgPT4gewogICAgICBjb25zdCB3aW5kb3dJbmZvID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3dpbmRvd0luZm8nKTsKICAgICAgaWYgKHdpbmRvd0luZm8pIHsKICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGxlZnQsIHRvcCB9ID0gSlNPTi5wYXJzZSh3aW5kb3dJbmZvKTsKICAgICAgICB3aW5kb3cucmVzaXplVG8od2lkdGgsIGhlaWdodCk7CiAgICAgICAgd2luZG93Lm1vdmVUbyhsZWZ0LCB0b3ApOwogICAgICB9CiAgICB9CiAgICBjb25zdCBzYXZlV2luZG93UG9zaXRpb25BbmRTaXplID0gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IHdpbmRvd0luZm8gPSB7CiAgICAgIHdpZHRoOiB3aW5kb3cub3V0ZXJXaWR0aCwKICAgICAgaGVpZ2h0OiB3aW5kb3cub3V0ZXJIZWlnaHQsCiAgICAgIGxlZnQ6IHdpbmRvdy5zY3JlZW5YLAogICAgICB0b3A6IHdpbmRvdy5zY3JlZW5ZCiAgICAgIH07CiAgICAgIC8vIOS9v+eUqCBsb2NhbFN0b3JhZ2Ug5L+d5a2Y5omA5pyJ5L+h5oGv5Li65LiA5LiqIEpTT04g5a2X56ym5LiyCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd3aW5kb3dJbmZvJywgSlNPTi5zdHJpbmdpZnkod2luZG93SW5mbykpOwogICAgfQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCByZXN0b3JlV2luZG93UG9zaXRpb25BbmRTaXplKTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBhc3luYyAoZXZlbnQpID0+IHsKICAgICAgLy8g5L+d5a2Y56qX5Y+j5aSn5bCP5ZKM5L2N572uIEFsdCArIFMKICAgICAgaWYgKGV2ZW50LmFsdEtleSAmJiBldmVudC5jb2RlID09PSAnS2V5UycgJiYgIWV2ZW50LnNoaWZ0S2V5ICYmICFldmVudC5jdHJsS2V5ICYmICFldmVudC5tZXRhS2V5KSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8g6Ziy5q2i5rWP6KeI5Zmo6buY6K6k6KGM5Li677yI5aaC6aG16Z2i5L+d5a2Y77yJCiAgICAgICAgc2F2ZVdpbmRvd1Bvc2l0aW9uQW5kU2l6ZSgpOyAvLyDosIPnlKjkv53lrZjmlbDmja7nmoTlh73mlbAKICAgICAgfQogICAgICAvLyDmuIXpmaTnqpflj6PlpKflsI/lkozkvY3nva4gQWx0ICsgRAogICAgICBpZiAoZXZlbnQuYWx0S2V5ICYmIGV2ZW50LmNvZGUgPT09ICdLZXlEJyAmJiAhZXZlbnQuc2hpZnRLZXkgJiYgIWV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50Lm1ldGFLZXkpIHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyDpmLLmraLmtY/op4jlmajpu5jorqTooYzkuLrvvIjlpoLpobXpnaLkv53lrZjvvIkKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnd2luZG93SW5mbycpOyAvL+a4hemZpOeql+WPo+S9jee9rgogICAgICB9CiAgICAgIC8vIGFsdCArIFIg5byA5ZCv5ZCM5q2lCiAgICAgIGlmIChldmVudC5hbHRLZXkgJiYgZXZlbnQuY29kZSA9PT0gJ0tleVInICYmICFldmVudC5zaGlmdEtleSAmJiAhZXZlbnQuY3RybEtleSAmJiAhZXZlbnQubWV0YUtleSkgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIOmYsuatoua1j+iniOWZqOm7mOiupOihjOS4uu+8iOWmgumhtemdouS/neWtmO+8iQogICAgICAgIGlmKCF3aW5kb3cud2ViZGF2Q2xpZW50KSB7CiAgICAgICAgICBhbGVydCgn5peg5rOV5ZCM5q2l5pWw5o2u77yM6K+35YWI6YWN572u5ZyodVRvb2xz5Lit6L6T5YWl4oCc6ZKJ5L2P5paH5pys6YWN572u4oCd5Y676YWN572ud2ViZGF2Jyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmKGlzU3luYykgewogICAgICAgICAgYWxlcnQoJ+W3sue7j+aYr+WQjOatpeeKtuaAge+8gScpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZihlZGl0b3IudGV4dENvbnRlbnQpIHsKICAgICAgICAgIGlmKCFjb25maXJtKCLigLzvuI/mo4DmtYvliLDmgqjlvZPliY3nmoTmlofmnKzmoYbkuI3kuLrnqbrvvIzmgqjnoa7lrpropoHlkIzmraXlkJfvvJ9cbuWQjOatpeaXtuWPr+iDveS8mueUqOi/nOeoi+WGheWuueimhuebluaWh+acrOahhuWGheWuue+8gVxu6K+35Yqh5b+F5YGa5aW95aSH5Lu95bel5L2c77yB77yB77yBIikpIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lzU3luYycsIHRydWUpOyAvL+W8gOWQr+WQjOatpQogICAgICAgIGlzU3luYyA9IHRydWU7CiAgICAgICAgY29uc3QgcmVtb3RlRmlsZSA9IGF3YWl0IGdldFdlYkRhdkZpbGUoKTsKICAgICAgICBpZihyZW1vdGVGaWxlKSBlZGl0b3IuaW5uZXJIVE1MID0gcmVtb3RlRmlsZTsKICAgICAgfQogICAgICAvLyBhbHQgKyBUIOWPlua2iOWQjOatpQogICAgICBpZiAoZXZlbnQuYWx0S2V5ICYmIGV2ZW50LmNvZGUgPT09ICdLZXlUJyAmJiAhZXZlbnQuc2hpZnRLZXkgJiYgIWV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50Lm1ldGFLZXkpIHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyDpmLLmraLmtY/op4jlmajpu5jorqTooYzkuLrvvIjlpoLpobXpnaLkv53lrZjvvIkKICAgICAgICBpZighaXNTeW5jKSB7CiAgICAgICAgICBhbGVydCgn5bey57uP5piv5pyq5ZCM5q2l54q25oCB77yBJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIGlmKGVkaXRvci50ZXh0Q29udGVudCkgewogICAgICAgIC8vICAgaWYoIWNvbmZpcm0oIuKaoO+4j+ajgOa1i+WIsOaCqOW9k+WJjeeahOaWh+acrOahhuS4jeS4uuepuu+8jOaCqOehruWumuimgeWPlua2iOWQjOatpeWQl++8n1xu5Y+W5raI5ZCM5q2l5bCG5L2/55So5pys5Zyw5pWw5o2u6KaG55uW5paH5pys5qGG5YaF5a6577yBIikpIHJldHVybjsKICAgICAgICAvLyB9CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2lzU3luYycpOyAvL+a4hemZpOWQjOatpQogICAgICAgIGlzU3luYyA9IGZhbHNlOwogICAgICAgIC8vIGVkaXRvci5pbm5lckhUTUwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGluVGV4dCcsICcnKTsKICAgICAgICBzZXRTeW5jRmxhZygpOwogICAgICB9CiAgICB9KTsKCiAgICBhc3luYyBmdW5jdGlvbiBnZXRXZWJEYXZGaWxlKCkgewogICAgICBjb25zdCBjbGllbnQgPSB3ZWJkYXZDbGllbnQ7CiAgICAgIGNvbnN0IHJlbW90ZVBhdGggPSAnL3BpblRleHQvcGluVGV4dC5odG1sJzsKICAgICAgdHJ5IHsKICAgICAgICBzZXRTeW5jRmxhZygnc3luY2luZycpOwogICAgICAgIGNvbnN0IGV4aXN0cyA9IGF3YWl0IGNsaWVudC5leGlzdHMocmVtb3RlUGF0aCk7CiAgICAgICAgaWYoIWV4aXN0cykgcmV0dXJuICcnOwogICAgICAgIGNvbnN0IHJlbW90ZUNvbnRlbnQgPSBhd2FpdCBjbGllbnQuZ2V0RmlsZUNvbnRlbnRzKHJlbW90ZVBhdGgsIHsgZm9ybWF0OiAidGV4dCIgfSk7CiAgICAgICAgc2V0U3luY0ZsYWcodHJ1ZSk7CiAgICAgICAgcmV0dXJuIHJlbW90ZUNvbnRlbnQ7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgc2V0U3luY0ZsYWcoZmFsc2UpOwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPlui/nOeoi+aWh+S7tuWksei0pTonLCBlcnJvcik7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gc2V0U3luY0ZsYWcoc3VjZXNzKSB7CiAgICAgIGlmKHN1Y2VzcyA9PT0gdHJ1ZSkgZG9jdW1lbnQuYm9keS5zdHlsZS5ib3JkZXJUb3BDb2xvciA9ICdncmVlbic7CiAgICAgIGVsc2UgaWYoc3VjZXNzID09PSBmYWxzZSkgZG9jdW1lbnQuYm9keS5zdHlsZS5ib3JkZXJUb3BDb2xvciA9ICdyZWQnOwogICAgICBlbHNlIGlmKHN1Y2VzcyA9PT0gJ3N5bmNpbmcnKSBkb2N1bWVudC5ib2R5LnN0eWxlLmJvcmRlclRvcENvbG9yID0gJ29yYW5nZSc7CiAgICAgIGVsc2UgZG9jdW1lbnQuYm9keS5zdHlsZS5ib3JkZXJUb3BDb2xvciA9ICd3aGl0ZSc7CiAgICB9CiAgIAogICAgYXN5bmMgZnVuY3Rpb24gc3luY0ZpbGUoKSB7CiAgICAgIGNvbnN0IGNsaWVudCA9IHdlYmRhdkNsaWVudDsKICAgICAgY29uc3QgcmVtb3RlRGlyID0gJy9waW5UZXh0JzsgLy8g55uu5b2V6Lev5b6ECiAgICAgIGNvbnN0IHJlbW90ZVBhdGggPSAnL3BpblRleHQvcGluVGV4dC5odG1sJzsKICAgICAgY29uc3QgbG9jYWxDb250ZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInBpblRleHQiLCAiIik7CgogICAgICB0cnkgewogICAgICAgIC8vIOajgOafpeW5tuWIm+W7uuebruW9le+8iOWmguaenOS4jeWtmOWcqO+8iQogICAgICAgIHNldFN5bmNGbGFnKCdzeW5jaW5nJyk7CiAgICAgICAgY29uc3QgZGlyRXhpc3RzID0gYXdhaXQgY2xpZW50LmV4aXN0cyhyZW1vdGVEaXIpOwogICAgICAgIGlmICghZGlyRXhpc3RzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygn55uu5b2V5LiN5a2Y5Zyo77yM5q2j5Zyo5Yib5bu6OicsIHJlbW90ZURpcik7CiAgICAgICAgICBhd2FpdCBjbGllbnQuY3JlYXRlRGlyZWN0b3J5KHJlbW90ZURpcik7CiAgICAgICAgICBjb25zb2xlLmxvZygn55uu5b2V5Yib5bu65oiQ5YqfJyk7CiAgICAgICAgfQogICAgICAgIGNvbnN0IGV4aXN0cyA9IGF3YWl0IGNsaWVudC5leGlzdHMocmVtb3RlUGF0aCk7CiAgICAgICAgaWYgKGV4aXN0cykgewogICAgICAgICAgY29uc3QgcmVtb3RlQ29udGVudCA9IGF3YWl0IGNsaWVudC5nZXRGaWxlQ29udGVudHMocmVtb3RlUGF0aCwgeyBmb3JtYXQ6ICJ0ZXh0IiB9KTsKICAgICAgICAgIGlmIChyZW1vdGVDb250ZW50ICE9PSBsb2NhbENvbnRlbnQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ+aWh+S7tuW3suWPmOabtO+8jOato+WcqOWQjOatpS4uLicpOwogICAgICAgICAgICBhd2FpdCBjbGllbnQucHV0RmlsZUNvbnRlbnRzKHJlbW90ZVBhdGgsIGxvY2FsQ29udGVudCwgeyBvdmVyd3JpdGU6IHRydWUgfSk7CiAgICAgICAgICAgIHNldFN5bmNGbGFnKHRydWUpOwogICAgICAgICAgICBjb25zb2xlLmxvZygn5ZCM5q2l5a6M5oiQJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZygn5paH5Lu25peg5Y+Y5YyW77yM5peg6ZyA5ZCM5q2lJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCfmlofku7bkuI3lrZjlnKjvvIzmraPlnKjliJvlu7ouLi4nKTsKICAgICAgICAgIGF3YWl0IGNsaWVudC5wdXRGaWxlQ29udGVudHMocmVtb3RlUGF0aCwgbG9jYWxDb250ZW50KTsKICAgICAgICAgIHNldFN5bmNGbGFnKHRydWUpOwogICAgICAgICAgY29uc29sZS5sb2coJ+aWh+S7tuWIm+W7uuaIkOWKnycpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBzZXRTeW5jRmxhZyhmYWxzZSk7CiAgICAgICAgY29uc29sZS5lcnJvcign5ZCM5q2l5aSx6LSlOicsIGVycm9yKTsKICAgICAgfQogICAgfQogIDwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5IGlkPSJlZGl0b3IiIGNvbnRlbnRlZGl0YWJsZT0idHJ1ZSI+PC9ib2R5Pgo8L2h0bWw+\").replace('___webdavConfig___', webdavConfig).replace('\"___quickcommand.enterData.payload___\"', JSON.stringify(quickcommand.enterData.payload))",
                    "argvs": {
                        "code": "<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <title>钉住文本</title>\n  <style>\n    body {\n      height: calc(100vh - 16px);\n      border-top: 0.5px solid green;\n      margin: 0;\n      padding: 8px;\n    }\n  </style>\n  <script type=\"module\">\n    import {createClient} from 'https://jsd.onmicrosoft.cn/npm/webdav@5.8.0/+esm';\n    let webdav = ___webdavConfig___;\n    window.webdavClient = null;\n    if(webdav) {\n      window.webdavClient = createClient(webdav.url, {\n        username: webdav.username,\n        password: webdav.password\n      });\n    }\n  </script>\n  <script>\n    let payload = \"___quickcommand.enterData.payload___\";\n    let isSync = localStorage.getItem('isSync', 'false') === 'true';\n    // 加载执行\n    document.addEventListener('DOMContentLoaded', async () => {\n      if(isSync && !window.webdavClient) {\n        isSync = false;\n        alert('无法同步数据，请先配置在uTools中输入“钉住文本配置”去配置webdav');\n      }\n      const editor = document.getElementById(\"editor\");\n      const html = isSync ? await getWebDavFile() : localStorage.getItem(\"pinText\", \"\");\n      editor.innerHTML = html;\n      const hasPayload = !(payload === \"钉住文本\" || payload === \"pinText\") && payload;\n      if(hasPayload) {\n        editor.innerHTML = editor.textContent ? payload + \"<hr />\" + html : payload;\n        localStorage.setItem(\"pinText\", editor.innerHTML);\n        if(isSync) syncFile();\n      }\n      setTimeout(()=> editor.focus(), 100);\n      // 输入事件\n      editor.addEventListener('input', () => {\n        localStorage.setItem(\"pinText\", editor.innerHTML);\n        if(isSync) syncFile();\n      });\n      // 监听数据变化\n      window.addEventListener('storage', function(e) {\n        if (e.key === 'pinText') {\n          editor.innerHTML = e.newValue;\n          if(isSync) syncFile();\n        }\n      });\n    });\n    ///// alt+s 保存窗口位置 ////\n    const restoreWindowPositionAndSize = () => {\n      const windowInfo = localStorage.getItem('windowInfo');\n      if (windowInfo) {\n        const { width, height, left, top } = JSON.parse(windowInfo);\n        window.resizeTo(width, height);\n        window.moveTo(left, top);\n      }\n    }\n    const saveWindowPositionAndSize = (event) => {\n      const windowInfo = {\n      width: window.outerWidth,\n      height: window.outerHeight,\n      left: window.screenX,\n      top: window.screenY\n      };\n      // 使用 localStorage 保存所有信息为一个 JSON 字符串\n      localStorage.setItem('windowInfo', JSON.stringify(windowInfo));\n    }\n    window.addEventListener('load', restoreWindowPositionAndSize);\n    document.addEventListener('keydown', async (event) => {\n      // 保存窗口大小和位置 Alt + S\n      if (event.altKey && event.code === 'KeyS' && !event.shiftKey && !event.ctrlKey && !event.metaKey) {\n        event.preventDefault(); // 防止浏览器默认行为（如页面保存）\n        saveWindowPositionAndSize(); // 调用保存数据的函数\n      }\n      // 清除窗口大小和位置 Alt + D\n      if (event.altKey && event.code === 'KeyD' && !event.shiftKey && !event.ctrlKey && !event.metaKey) {\n        event.preventDefault(); // 防止浏览器默认行为（如页面保存）\n        localStorage.removeItem('windowInfo'); //清除窗口位置\n      }\n      // alt + R 开启同步\n      if (event.altKey && event.code === 'KeyR' && !event.shiftKey && !event.ctrlKey && !event.metaKey) {\n        event.preventDefault(); // 防止浏览器默认行为（如页面保存）\n        if(!window.webdavClient) {\n          alert('无法同步数据，请先配置在uTools中输入“钉住文本配置”去配置webdav');\n          return;\n        }\n        if(isSync) {\n          alert('已经是同步状态！');\n          return;\n        }\n        if(editor.textContent) {\n          if(!confirm(\"‼️检测到您当前的文本框不为空，您确定要同步吗？\\n同步时可能会用远程内容覆盖文本框内容！\\n请务必做好备份工作！！！\")) return;\n        }\n        localStorage.setItem('isSync', true); //开启同步\n        isSync = true;\n        const remoteFile = await getWebDavFile();\n        if(remoteFile) editor.innerHTML = remoteFile;\n      }\n      // alt + T 取消同步\n      if (event.altKey && event.code === 'KeyT' && !event.shiftKey && !event.ctrlKey && !event.metaKey) {\n        event.preventDefault(); // 防止浏览器默认行为（如页面保存）\n        if(!isSync) {\n          alert('已经是未同步状态！');\n          return;\n        }\n        // if(editor.textContent) {\n        //   if(!confirm(\"⚠️检测到您当前的文本框不为空，您确定要取消同步吗？\\n取消同步将使用本地数据覆盖文本框内容！\")) return;\n        // }\n        localStorage.removeItem('isSync'); //清除同步\n        isSync = false;\n        // editor.innerHTML = localStorage.getItem('pinText', '');\n        setSyncFlag();\n      }\n    });\n\n    async function getWebDavFile() {\n      const client = webdavClient;\n      const remotePath = '/pinText/pinText.html';\n      try {\n        setSyncFlag('syncing');\n        const exists = await client.exists(remotePath);\n        if(!exists) return '';\n        const remoteContent = await client.getFileContents(remotePath, { format: \"text\" });\n        setSyncFlag(true);\n        return remoteContent;\n      } catch (error) {\n        setSyncFlag(false);\n        console.error('获取远程文件失败:', error);\n        return '';\n      }\n    }\n\n    function setSyncFlag(sucess) {\n      if(sucess === true) document.body.style.borderTopColor = 'green';\n      else if(sucess === false) document.body.style.borderTopColor = 'red';\n      else if(sucess === 'syncing') document.body.style.borderTopColor = 'orange';\n      else document.body.style.borderTopColor = 'white';\n    }\n   \n    async function syncFile() {\n      const client = webdavClient;\n      const remoteDir = '/pinText'; // 目录路径\n      const remotePath = '/pinText/pinText.html';\n      const localContent = localStorage.getItem(\"pinText\", \"\");\n\n      try {\n        // 检查并创建目录（如果不存在）\n        setSyncFlag('syncing');\n        const dirExists = await client.exists(remoteDir);\n        if (!dirExists) {\n          console.log('目录不存在，正在创建:', remoteDir);\n          await client.createDirectory(remoteDir);\n          console.log('目录创建成功');\n        }\n        const exists = await client.exists(remotePath);\n        if (exists) {\n          const remoteContent = await client.getFileContents(remotePath, { format: \"text\" });\n          if (remoteContent !== localContent) {\n            console.log('文件已变更，正在同步...');\n            await client.putFileContents(remotePath, localContent, { overwrite: true });\n            setSyncFlag(true);\n            console.log('同步完成');\n          } else {\n            console.log('文件无变化，无需同步');\n          }\n        } else {\n          console.log('文件不存在，正在创建...');\n          await client.putFileContents(remotePath, localContent);\n          setSyncFlag(true);\n          console.log('文件创建成功');\n        }\n      } catch (error) {\n        setSyncFlag(false);\n        console.error('同步失败:', error);\n      }\n    }\n  </script>\n</head>\n<body id=\"editor\" contenteditable=\"true\"></body>\n</html>",
                        "language": "html",
                        "args": [],
                        "scriptCode": null,
                        "outputCode": null,
                        "runInTerminal": null
                    },
                    "outputVariable": {
                        "name": "codeSnippet"
                    },
                    "isCollapsed": true,
                    "userComments": "新窗口代码"
                },
                {
                    "value": "utools.getPath",
                    "defaultValue": "home",
                    "id": "49a0f4cd-8028-44d1-a7ef-a8c23552c4a0",
                    "subCommand": "utools.getPath",
                    "argvs": [
                        "temp"
                    ],
                    "code": "utools.getPath(\"temp\")",
                    "outputVariable": {
                        "name": "systemPath"
                    },
                    "isCollapsed": true
                },
                {
                    "value": "utools.isMacOS",
                    "id": "f7f9b883-9840-4590-9d6f-b7c589edf29c",
                    "subCommand": "utools.isWindows",
                    "argvs": [],
                    "code": "utools.isWindows()",
                    "outputVariable": {
                        "name": "isWindows"
                    },
                    "isCollapsed": true
                },
                {
                    "value": "quickcommand.runCode",
                    "description": "运行各种编程语言的代码，需要预安装对应的执行环境",
                    "asyncMode": "await",
                    "id": "11f7aa5c-7fb1-48ff-a98d-6bec9f43ddc5",
                    "code": "quickcommand.runCode(\"\", {\n    \"language\": \"javascript\"\n  })",
                    "argvs": {
                        "code": "",
                        "language": "javascript",
                        "args": [],
                        "scriptCode": null,
                        "outputCode": null,
                        "runInTerminal": null
                    },
                    "outputVariable": {
                        "name": "pinTextPage"
                    },
                    "isCollapsed": true
                },
                {
                    "value": "injectJs",
                    "description": "注入的代码（js）将在流程对应的位置直接运行。",
                    "neverHasOutput": true,
                    "isExpression": true,
                    "id": "0f001583-7ef3-457f-bfe4-3b526c5e7125",
                    "subCommand": "injectJs",
                    "argvs": [
                        "pinTextPage = (systemPath + (isWindows ? '\\\\' : '/') + 'pinTextPage.html').replace(/\\/+/g, '/').replace(/(\\\\)+/g, '\\\\')"
                    ],
                    "code": "pinTextPage = (systemPath + (isWindows ? '\\\\' : '/') + 'pinTextPage.html').replace(/\\/+/g, '/').replace(/(\\\\)+/g, '\\\\')",
                    "isCollapsed": true,
                    "userComments": "生成pinTextPage文件路径",
                    "disabled": false
                },
                {
                    "value": "quickcomposer.file.operation",
                    "asyncMode": "await",
                    "id": "6c9019d2-4bf0-440b-90e5-f2c4bb73a654",
                    "argvs": {
                        "operation": "write",
                        "filePath": {
                            "value": "pinTextPage",
                            "isString": false,
                            "__varInputVal__": true
                        },
                        "encoding": "utf8",
                        "readMode": "all",
                        "start": 0,
                        "length": 100,
                        "targetType": "file",
                        "writeMode": "write",
                        "writeFlag": "777",
                        "followSymlinks": true,
                        "mode": "644",
                        "recursive": false,
                        "force": false,
                        "showHidden": false,
                        "operationType": "chmod",
                        "transferOperation": "rename",
                        "content": {
                            "value": "codeSnippet",
                            "isString": false,
                            "__varInputVal__": true
                        }
                    },
                    "code": "quickcomposer.file.operation({\n    \"operation\": \"write\",\n    \"filePath\": pinTextPage,\n    \"encoding\": \"utf8\",\n    \"content\": codeSnippet,\n    \"flag\": \"w\",\n    \"mode\": \"777\"\n  })",
                    "isCollapsed": true,
                    "disabled": false
                },
                {
                    "value": "ubrowser",
                    "asyncMode": "await",
                    "id": "0f4ea2a5-b105-4f64-8a34-8634ca2f5681",
                    "argvs": {
                        "goto": {
                            "headers": {
                                "": {
                                    "value": "",
                                    "isString": true,
                                    "__varInputVal__": true
                                }
                            },
                            "url": {
                                "value": "'file://'+pinTextPage",
                                "isString": false,
                                "__varInputVal__": true
                            }
                        },
                        "operations": [
                            {
                                "value": "devTools",
                                "args": [
                                    "bottom"
                                ]
                            }
                        ],
                        "run": {
                            "alwaysOnTop": true,
                            "width": 400,
                            "height": 300
                        }
                    },
                    "code": "utools.ubrowser.goto('file://'+pinTextPage)\n  .devTools(\"bottom\")\n  .run({\n    \"alwaysOnTop\": true,\n    \"width\": 400,\n    \"height\": 300\n  })",
                    "isCollapsed": true,
                    "disabled": false,
                    "userComments": "",
                    "outputVariable": {
                        "name": "browser"
                    }
                },
                {
                    "value": "utools.outPlugin",
                    "neverHasOutput": true,
                    "id": "7058d7d6-ce86-4d04-b133-d689465a1a51",
                    "subCommand": "utools.outPlugin",
                    "argvs": [
                        false
                    ],
                    "code": "utools.outPlugin(false)",
                    "isCollapsed": true,
                    "disabled": true
                }
            ],
            "customVariables": []
        }
    ],
    "order": 1
}